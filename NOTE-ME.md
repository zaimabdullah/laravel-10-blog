1. Install wsl2 + Ubuntu
   Run Powershell in Administrator.
   Run wsl --install -d Ubuntu

2. Create project directory inside Linux Ubuntu
   Run mkdir www = create www folder
   Run cd www = go into the www direc

3. Integrate wsl to ubuntu OS into docker desktop
   Open docker desktop.
   Setting->resources->wsl integration, ubuntu + apply&restart.
   Run docker in Ubuntu cmd line, all docker cmd line will display.

4. Open Linux File System using Windows Explorer
   Run [explorer.exe .] = '.' is indicate current folder

5. Create new folder for laravel project
   Run mkdir laravel10.
   Run cd laravel10.

6. Create new Laravel project
   Make sure to open Ubuntu cmd line.
   Run cmd line given in Laravel Doc using Linux => curl -s https://laravel.build/[project-name] | bash

7. Open project in VScode
   Run [code .] when in root folder.

8. Run project
   Run ./vendor/bin/sail up
   Open http://localhost in browser.

<!-- Project Related -->

1. Want to Run all artisan cmd inside Main Laravel Container
   In second terminal VSC, run ./vendor/bin/sail bash. => will bring to sail@...:/var/www/html$
   Can check php version which is the latest, run php -v.
   Can check all files & folder inside this container, run ls -la.

#### This $html$ is mapped to the current root directory of project

2. Install Filamentphp
   In second terminal,
   Run this first -> composer require filament/filament:"^3.2" -W
   Run this after that finish -> php artisan filament:install --panels, will be ask What is the ID? = admin.
   Open localhost/admin ->redirect to localhost/admin/login.

3. Create the Database by migrate
   Run php artisan migrate.

4. Create a user (using filament given cmd)
   Run php artisan make:filament-user.
   email: zaim@example.com, password: password, name: zaim

5. Create Storage Link to upload images
   Run php artisan storage:link.

6. Create two main Models + Migration & one junction model+migration files
   php artisan make:model Category -m
   php artisan make:model Post -m
   php artisan make:model CategoryPost -m

#### One Category can have multiple Post, while one Post can belongs to multiple Category.

    Add code in migrations files.
    For category_users migration file, change the name into singular form as Laravel Doc recommended => category_user in up() method.
    Run php artisan migrate.
    Add $fillable field + method in Model (Post & Category) file.

7.  Creating a resource (sing filament given cmd)
    Run php artisan make:filament-resource Category --simple --generate ==> generate CategoryResource.php
    Run php artisan make:filament-resource Post --view --generate ==> generate PostResource.php
    Add actions of DeleteAction in PostResource.php.
    In website also have been created the categories and posts tab in side navbar.

8.  Implement Slug Generation
    Add ->reactive()->afterStateUpdated() in form schema for title in CategoryResource.php.

    #### But got error because the first arg in afterStateUpdated is sing Closure. So we change to ->debounce(700)->afterStateUpdated(function ($state, $set) {$set('slug', Str::slug($state));}),

    Add the same things in PostResource.php.

    #### This things make 'slug' auto generated based on title input.

9.  Adjust Form Layouts and Table Columns
Delete slug + created_at in table CategoryResource.php. Only title + updated_at needed.
Delete also ->sortable()->toggleable(isToggledHiddenByDefault: true) that connect to updated_at column, generated by filament.

Move the 'CategoriesResource' + 'PostResource' nav into sub-categories of Content by adding protected static ?string $navigationGroup = 'Content';.

Change the 'PostResource' icon, can use any heroicons.com, just change the name in protected static ?string $navigationIcon = 'heroicon-o-(here)';

Now change the PostResource Forms, in video they wrap the generated forms with Forms\Components\Card::make()->schema([]) but For Me, it says Card deprecated use Section.
Then, inside Section we add Forms\Components\grid::make(2)->schema([]), where inside this schema we put title + slug form. So they will display side-by-side.

Change Forms\Components\TextInput::make('thumbnail')->maxLength(2048) into Forms\Components\FileUpload::make('thumbnail').

Change in Forms\Components\Select::make('user_id')->relationship('user', 'name')->required() to Forms\Components\Select::make('category_id')->multiple()->relationship('categories', 'title')->required().

#### Create a real category (JavaScript, PHP, Laravel). Now in Post, if we search in categories field, all categories available will show-up.

#### Change the layout form for PostResource to make thumbnail and category input in upper-right side.
Wrap the form in diff-Section with ->colmnSpan(8/4).

#### Now, we need to set the user(user_id) when the record/post is about to created. Checked Creating records in Fillament Docs.
Copy+paste code from Docs into CreatePost.php.
Create a new test Post.
Update the table columns for displaying created post in PostResource.php.

Change the published_at required to not required BUT because it will cause error when we want to roll-back after delete the ->required(), now we have to check GUI DB.
#### Install any MySQL client app available. I choose MySQL Workbench 64bits.
#### Open it after installation, connection: @localhost, hostname: localhost, username: sail, pass: password.
Check laravel-10-blog db->migration table, click on table-like icon with letric -> display all migration file been run.
To Solve :-
Manually delete/drop category_post table in Workbench.
Run php artisan migrate:rollback --step=1. ==> this time succeed.
Run php artisan migrate.

### JUST-NOTE: Here i do like videos bt when run php artisan migrate, it only recreate category_posts_table which diff with video which it also create again posts_table. So, i rollback --step=2 + migrate back & it recreated categories_table+category_posts_table+posts_table which i need to recreate new category in website.

<!-- ##### ##### -->
#### IMPORTANT : The Idea here is, when we just create a post we still don't want to publish it yet so that's why we make published_at nullable.
<!-- ##### ##### -->

## The Blog-website sometime got dark because of my laptop themes.

10. Add Blog Template into Website (use Templates from Tailwind Awesome of Tailwind Blog Template)
Change the frontend/home-page.
Go to https://www.tailwindawesome.com/resources/tailwind-blog-template/demo.
Click Get Template -> blog.php -> Copy all code.

In vsc, we create artisan components first.
Run php artisan make:component AppLayout.
Inside just created AppLayout.php change the file name in render() to layouts.app.
Now in resource/views/components, the app-layout.blade.php has to be rename to resource/views/layouts/app.blade.php.
Paste all code before into app.blade.
Inside those code in app.blade, Cut the code that have <!-- Posts Section --> and change with <!--{{$slot}}-->.

Before we paste Posts Section into welcome.blade,made some changes first in app.blade.
Copy html lang=... from welcome.blade paste into app.blade.
Paste Posts Section code into welcome.blade. Wrap it into x-app-layout tag.
### Rename Welcome.blade into Home.blade.
Change the route in web.php from welcome to home.

11. Render Posts From the Database 1 + 2
Run php artisan make:controller PostController --resource --model=Post to create PostController resource controller.
Add view('home') in index() method in PostController + update route in web.php to PostController.
Update the index() method so it can send 'posts' variable to home.blade page.

#### Create other component to render the blog-posts while using home.blade layouts.
Run php artisan make:component PostItem --view to create post-item.blade.
Copy+paste the article from home.blade into post-item.blade.
In home.blade we loops the 'posts' variable given by index() PostController and pass into x-post-item tags layout.
In post-item.blade, display the value of 'posts' variable saved.

Add shortBody() method in Post Model to be used in post-item.blade.
Add getFormattedDate() method in Post Model for better published_at display, but it has to be datetime instance of carbon.
Create a $casts for published_at to be datetime in Post Model.
Add /storage/ in src for thumbnail.

12. Implement Pagination 1
#### Lets start to create fake data for more posts so can use pagination better.
Run php artisan make:factory PostFactory to create PostFactory.php.
Initialize fake data in PostFactory + initialize how many fake data to be created in DatabaseSeeder.php.
Run php artisan db:seed. ==> FakeData Created.
Add getThumbnail() method in Post Model for displaying thumbnail in post-item.blade layout.

#### Start the pagination
In PostController, set pagination to 5.
Add <!-- {{ $posts->links() }} -->.
#### To style the pagination as given by template, we go to https://laravel.com/docs/10.x/pagination#customizing-the-pagination-view.
This create a few things under direc resources/views/vendor/pagination BUT we will use the tailwind.blade.php.
Copy+paste the class of pagination from home.blade into tailwind.blade.
### THIS IS HARD TO NOTE AS THE CODE IN TAILWIND.BLADE IS A LOT, IT GOT MOBILE PAGINATION TOO. IT JUST WE COPY CLASS FROM PAGINATION IN HOME.BLADE INTO TAILWIND + DELETE TAILWIND UNNEEDED CODE.

13. Create Text Widgets (adjustable header text + sidebar content like about us)
Clean-up app.blade by deleting any unneeded part.

Run
php artisan make:model TextWidget -m to create TextWidget Model + create_text_widgets migration file.
Add table column in create_text_widgets migration file.
#### One of column is 'key' unique which the idea is it will be universal-table for savings some text contents for our website like About Us section and the key will be about us and based on that we can select the data from Db and output in certain places in website.
Run php artisan migrate.
Define helper method in TextWidget Model getTitle & getContent.
Create filament resource for TextWidget.
Run php artisan make:filament-resource TextWidgetResource --view --generate. 
Update the code in TextWidgetResource.php + CreateTextWidget + EditTextWidget.
Delete all related to ViewTextWidget as we do not use it.
#### To delete a View button in Edit page, go EditTextWidget.php, look at return[] will have related things to View. Delete that to remove View button. 

Adjust the sidebar that primarily in app.blade and move out to home.blade but put into separate component.
Run php artisan make:component Sidebar.
Add + update the sidebar code from home.blade into sidebar.blade.
Use x-sidebar tag in home.blade.

Create text widget for header too.
Display the text widget in app.blade with <!-- {{ \App\Models\TextWidget::getTitle('header') }} -->.

14. Post Inner Page
Add new route to post show in web.php.
In show() method PostController, add new code.
Create post folder/view.blade file.
Copy+paste code from post.php of blog-template into view.blade + delete all except Post Section.
Update the code to display data from DB given by PostController show() method with '$post' variable.

Create the previous-next button functionality in PostController show() method, the btn exist in post/view.blade.

### Means of query for next-button
<!-- $next = Post::query()

The Post must be status=active.
->where('active', true)

The post published date must be lessThan equal to now/today which means the post has been Published.
->whereDate('published_at', '<=', Carbon::now())

The post publish date must lessThan the publish date of the currentPost
->whereDate('published_at', '<', $post->published_at)

Order by latest-to-oldest(desc in date will give the latest one first)
->orderBy('published_at', 'desc')

Only one result needed
->limit(1)
->first(); -->

15. Post by Category
#### Let's implement outputting categories in the sidebar + main nav(top 5 categories basedOn number of posts).

### Sidebar of categories 
Add x-sidebar tag in post/view.blade.
Display all categories in sidebar.blade.
Create + pass $categories variable to sidebar.blade in View/Component/Sidebar.

### Main Nav of categories + home + about-us nav-btn
Copy+paste code from View/Component/Sidebar into View/Component/AppLayout.
Create the main nav in app.blade by using $categories given from View/Component/AppLayout.

### Activate all link route by categories
Create byCategory() method in PostController.
Declare route to byCategory in web.php.
Use by-category route in category link in app.blade & sidebar.blade.

Delete all /PostResource/Pages/ViewPost related from PostResource.

16. About Us Page
Create new controller for about-us, run php artisan make:controller SiteController.
Declare the route in web.php, do Remember route positioning is important.
Use the about-us route in link in app.blade & sidebar.blade.
Add code in SideController.
Create views/about.blade.php & add code in there.

17. SEO Meta Fields
Create a few new migration file = meta-title & meta-desc.
Run php artisan make:migration add_meta_fields_to_posts_table.
Add $table column into that migration file.
Run php artisan migrate.
Add $fillable of those $table column=meta in Post Model.
Add new column in $form PostResource.php for those meta.
Use the meta in app.blade title tag & meta tag in html-head.
Declare the meta as parameter in AppLayout.php.
Implement meta-title, meta-description in layout, app, home, about, post/index(post-by-category-based-page).

18. Final Touches on the Website - Part 1
Add route to home-page to the blog title.
Restyling the categories inline when category for a post more than one.

#### Dir + file name + reason
post/index(post-by-category-based-page)
post/view(single-post-page)
post-item(post-in-homepage)
home(postsection-layout-of-homepage)
app(baselayout)

###### Still Problem About Us content out-of-boundary.

19. Signup & Login (use Laravel Breeze)
Using Laravel Doc as ref, run composer require laravel/breeze --dev.
Run php artisan breeze:install.
Will be ask a few Q, stack=0, dark=no, Pest test=no. Then will be Error as expected.
To solve, we copy+paste home.blade. Rename it to welcome.blade.
Make sure to backup everything before reinstall Laravel Breeze, as it modify views.
